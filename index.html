<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Katalog Produk Interaktif</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* Simple fade-in animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        /* Ensure placeholder has a minimum height */
        #preview-container:empty {
            min-height: 300px;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Generator Katalog Produk</h1>
            <p class="mt-2 text-md md:text-lg text-gray-600">Isi formulir di bawah untuk melihat pratinjau langsung dan menghasilkan prompt untuk AI.</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12">
            <!-- Form Section -->
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-6">Detail Produk</h2>
                <div class="space-y-5">
                    <!-- Form fields -->
                    <div class="form-group">
                        <label for="namaProduk" class="block text-sm font-medium text-gray-700">Nama Produk</label>
                        <input type="text" id="namaProduk" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" value="Kopi Robusta Temanggung">
                    </div>
                    <div class="form-group">
                        <label for="jenisProduk" class="block text-sm font-medium text-gray-700">Jenis Produk</label>
                        <select id="jenisProduk" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option>Fashion</option>
                            <option>Elektronik</option>
                            <option>Kerajinan Lokal</option>
                            <option selected>Kopi</option>
                            <option>Skincare</option>
                            <option>Makanan Ringan</option>
                            <option>Produk Digital</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="deskripsiProduk" class="block text-sm font-medium text-gray-700">Deskripsi Produk</label>
                        <textarea id="deskripsiProduk" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">Kopi robusta asli dari lereng Gunung Sumbing, Temanggung. Diproses secara natural untuk mengeluarkan aroma kuat dan cita rasa pahit yang khas dengan sentuhan akhir cokelat.</textarea>
                    </div>
                    <div class="form-group">
                        <label for="hargaProduk" class="block text-sm font-medium text-gray-700">Harga Produk</label>
                        <input type="text" id="hargaProduk" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" value="Rp 75.000 / 250g">
                    </div>
                    <div class="form-group">
                        <label for="gambarProduk" class="block text-sm font-medium text-gray-700">Link Gambar Produk (URL Langsung atau Google Drive)</label>
                        <input type="text" id="gambarProduk" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" value="https://images.unsplash.com/photo-1511920183353-3c7c95a5742c?q=80&w=2787&auto=format&fit=crop">
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="form-group">
                            <label for="nomorTelepon" class="block text-sm font-medium text-gray-700">Nomor Telepon</label>
                            <input type="text" id="nomorTelepon" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" value="0812-3456-7890">
                        </div>
                        <div class="form-group">
                            <label for="gmail" class="block text-sm font-medium text-gray-700">Gmail</label>
                            <input type="email" id="gmail" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" value="kontak@kopitemanggung.id">
                        </div>
                    </div>
                     <div class="form-group">
                        <label for="instagram" class="block text-sm font-medium text-gray-700">Instagram</label>
                        <input type="text" id="instagram" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" value="@kopitemanggung.id">
                    </div>
                    <div class="form-group">
                        <label for="gayaVisual" class="block text-sm font-medium text-gray-700">Pilihan Gaya Visual Katalog</label>
                        <select id="gayaVisual" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option>Editorial magazine</option>
                            <option>Minimalis modern</option>
                            <option>Playful colorful</option>
                            <option>Dark moody</option>
                            <option>Elegan formal</option>
                            <option selected>Lokal / Kultural</option>
                        </select>
                    </div>
                    <div class="pt-4">
                        <button onclick="generateOutput()" class="w-full inline-flex justify-center py-3 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Buat Prompt & Pratinjau
                        </button>
                    </div>
                </div>
            </div>

            <!-- Result Section -->
            <div class="bg-white p-4 md:p-6 rounded-2xl shadow-lg space-y-6">
                <div>
                    <h2 class="text-2xl font-bold">Hasil Generasi</h2>
                </div>
                
                <!-- Preview Sub-section -->
                <div>
                    <h3 class="text-lg font-semibold mb-2 text-gray-800">Pratinjau Katalog</h3>
                    <div id="preview-container" class="border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 flex items-center justify-center text-center text-gray-500 p-4 min-h-[300px]">
                        <p>Pratinjau katalog akan muncul di sini.</p>
                    </div>
                </div>

                <!-- Prompt Sub-section -->
                <div>
                    <h3 class="text-lg font-semibold mb-2 text-gray-800">Prompt untuk AI</h3>
                    <div class="relative">
                        <textarea id="promptOutput" rows="8" class="w-full p-3 pr-16 border border-gray-300 rounded-md bg-gray-100 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" readonly placeholder="Prompt akan dibuat di sini..."></textarea>
                        <button id="copyButton" onclick="copyPrompt()" class="absolute top-3 right-3 py-1 px-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Salin
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to handle Google Drive link conversion
        function getImageUrl(url) {
            if (url.includes("drive.google.com")) {
                const match = url.match(/[-\w]{25,}/);
                if (match) {
                    const fileId = match[0];
                    return `https://lh3.googleusercontent.com/d/${fileId}`;
                }
            }
            return url;
        }

        // Function to generate the catalog preview and the AI prompt
        function generateOutput() {
            // 1. Get all values from the form
            const nama = document.getElementById("namaProduk").value;
            const jenis = document.getElementById("jenisProduk").value;
            const deskripsi = document.getElementById("deskripsiProduk").value;
            const harga = document.getElementById("hargaProduk").value;
            const gambar = document.getElementById("gambarProduk").value;
            const telp = document.getElementById("nomorTelepon").value;
            const gmail = document.getElementById("gmail").value;
            const ig = document.getElementById("instagram").value;
            const gaya = document.getElementById("gayaVisual").value;

            const imageUrl = getImageUrl(gambar);

            // 2. Define style themes based on selection
            let theme = {
                bg: 'bg-white',
                text: 'text-gray-800',
                title: 'text-gray-900',
                accent: 'text-indigo-600',
                containerClass: ''
            };

            switch (gaya) {
                case 'Editorial magazine':
                    theme = { ...theme, containerClass: 'font-serif', title: 'text-4xl font-serif font-bold' };
                    break;
                case 'Minimalis modern':
                    theme = { ...theme, bg: 'bg-gray-50', text: 'text-gray-600', title: 'text-gray-800 font-sans font-semibold' };
                    break;
                case 'Playful colorful':
                    theme = { ...theme, bg: 'bg-yellow-50', text: 'text-pink-800', title: 'text-cyan-600 font-bold', accent: 'text-orange-500' };
                    break;
                case 'Dark moody':
                    theme = { ...theme, bg: 'bg-gray-900', text: 'text-gray-300', title: 'text-white font-serif', accent: 'text-teal-400' };
                    break;
                case 'Elegan formal':
                    theme = { ...theme, bg: 'bg-stone-100', text: 'text-stone-700', title: 'text-stone-900 font-serif tracking-wider', accent: 'text-amber-800' };
                    break;
                case 'Lokal / Kultural':
                    theme = { ...theme, bg: 'bg-amber-50', text: 'text-stone-800', title: 'text-emerald-900 font-bold', accent: 'text-red-700', containerClass: 'border-4 border-emerald-900 p-4' };
                    break;
            }

            // 3. Construct the HTML for the preview
            const previewHtml = `
                <div class="w-full h-full p-6 md:p-8 rounded-lg overflow-hidden fade-in ${theme.bg} ${theme.text} ${theme.containerClass}">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="w-full h-64 md:h-96 rounded-lg overflow-hidden shadow-lg">
                            <img src="${imageUrl}" alt="[Gambar dari ${nama}]" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/600x400/cccccc/ffffff?text=Gambar+Tidak+Valid';">
                        </div>
                        <div class="flex flex-col h-full justify-center">
                            <h3 class="text-sm font-semibold tracking-widest uppercase ${theme.accent}">${jenis}</h3>
                            <h1 class="text-3xl md:text-4xl font-bold mt-2 ${theme.title}">${nama}</h1>
                            <p class="mt-4 text-base">${deskripsi}</p>
                            <p class="mt-6 text-2xl font-bold ${theme.title}">${harga}</p>
                            <div class="mt-8 pt-6 border-t border-gray-200/50">
                                <h4 class="font-semibold ${theme.title}">Hubungi Kami:</h4>
                                <div class="mt-3 space-y-2 text-sm">
                                    <p><strong>📞 Telepon:</strong> ${telp}</p>
                                    <p><strong>✉️ Gmail:</strong> ${gmail}</p>
                                    <p><strong>📷 Instagram:</strong> ${ig}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // 4. Display the preview
            const previewContainer = document.getElementById('preview-container');
            previewContainer.innerHTML = previewHtml;

            // 5. Generate and display the AI prompt
            const promptText = `Saya ingin kamu bertindak sebagai seorang frontend developer profesional yang membuat website digital katalog produk. Website ini harus memiliki desain yang modern, profesional, dan responsif (mobile-first dan desktop). Gunakan animasi fade-in lembut saat pengguna melakukan scroll, menciptakan pengalaman interaktif yang elegan dan tidak mengganggu fokus.

Setiap elemen penting seperti form input, preview hasil digital katalog produk, dan tombol aksi akan muncul secara bertahap dengan transisi yang halus untuk memberikan kesan modern dan profesional.

Website mencakup beberapa bagian utama seperti:

- Nama Produk: ${nama}
- Jenis Produk: ${jenis}
- Deskripsi: ${deskripsi}
- Harga: ${harga}
- Gambar Produk: ${imageUrl}
- Kontak:
  📞 Telepon: ${telp}
  ✉️ Gmail: ${gmail}
  📷 Instagram: ${ig}

Gunakan gaya visual katalog: ${gaya}

Desain harus menggabungkan gambar produk, deskripsi singkat, dan tulisan promosi dalam layout landscape & estetik (blok-blok terpisah dengan kombinasi teks dan foto). Tetap dengan desain akhir bergaya editorial-style ala majalah website katalog, namun tema visualnya dipilih oleh pengguna.`;
            
            const promptTextarea = document.getElementById('promptOutput');
            promptTextarea.value = promptText;

            // 6. Enable the copy button
            document.getElementById('copyButton').disabled = false;
        }

        // Function to copy the prompt to clipboard
        function copyPrompt() {
            const promptTextarea = document.getElementById('promptOutput');
            promptTextarea.select();
            promptTextarea.setSelectionRange(0, 99999); // For mobile devices

            try {
                document.execCommand('copy');
                const copyButton = document.getElementById('copyButton');
                copyButton.innerText = 'Disalin!';
                setTimeout(() => {
                    copyButton.innerText = 'Salin';
                }, 2000);
            } catch (err) {
                console.error('Gagal menyalin prompt: ', err);
                // Fallback for environments where execCommand is not supported
                alert('Gagal menyalin. Silakan salin secara manual.');
            }
        }
    </script>
</body>
</html>
